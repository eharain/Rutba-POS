# ============================================================
# Rutba POS â€” Docker Compose Environment Variables
# ============================================================
# Copy this file to .env and fill in the values before running
#   docker compose up -d --build
# ============================================================

# ----- MySQL -----
# To seed the database on first startup, place a .sql or .sql.gz dump
# in docker/mysql/init/ (see docker/mysql/init/README.md).
MYSQL_ROOT_PASSWORD=change_me_root_password
DATABASE_NAME=rutba_pos
DATABASE_USERNAME=rutba_user
DATABASE_PASSWORD=change_me_db_password

# ----- Strapi Secrets -----
# Generate each with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
APP_KEYS=change_me_app_key_1,change_me_app_key_2
API_TOKEN_SALT=change_me
ADMIN_JWT_SECRET=change_me
TRANSFER_TOKEN_SALT=change_me
JWT_SECRET=change_me
ENCRYPTION_KEY=change_me

# ----- Ports -----
# All Next.js apps derive their port from BASE_PORT.
#   web=BASE+0  stock=+1  sale=+2  auth=+3
#   web-user=+4  crm=+5  hr=+6  accounts=+7  payroll=+8
# To move the whole stack, change BASE_PORT and re-derive the rest.
BASE_PORT=3000
PORT_WEB=3000
PORT_STOCK=3001
PORT_SALE=3002
PORT_AUTH=3003
PORT_WEB_USER=3004
PORT_CRM=3005
PORT_HR=3006
PORT_ACCOUNTS=3007
PORT_PAYROLL=3008

# ----- Public URLs -----
# Change these when deploying behind a reverse proxy / domain.
# The port in each URL should match the PORT_* variable above.
NEXT_PUBLIC_API_URL=http://localhost:4010/api/
NEXT_PUBLIC_IMAGE_URL=http://localhost:4010

NEXT_PUBLIC_AUTH_URL=http://localhost:3003
NEXT_PUBLIC_STOCK_URL=http://localhost:3001
NEXT_PUBLIC_SALE_URL=http://localhost:3002
NEXT_PUBLIC_WEB_USER_URL=http://localhost:3004
NEXT_PUBLIC_CRM_URL=http://localhost:3005
NEXT_PUBLIC_HR_URL=http://localhost:3006
NEXT_PUBLIC_ACCOUNTS_URL=http://localhost:3007
NEXT_PUBLIC_PAYROLL_URL=http://localhost:3008

# ----- Rutba Web (public storefront) -----
NEXT_PUBLIC_IMAGE_HOST_PROTOCOL=http
NEXT_PUBLIC_IMAGE_HOST_NAME=localhost
NEXT_PUBLIC_IMAGE_HOST_PORT=4010
NEXTAUTH_SECRET=change_me_nextauth_secret
NEXTAUTH_URL=http://localhost:3000
GOOGLE_CLIENT_KEY=
GOOGLE_SECRET_KEY=
